{% extends 'myhpom/base.html' %}

{% load staticfiles %}

{% block title %}Login{% endblock %}

{% block main_content %}
<div class="modal show pseudo-modal">
    <div class="modal-dialog pseudo-modal__dialog" role="document">
        <div class="modal-content pseudo-modal__content">
            <div class="pseudo-modal__pre-header">
                <img class="pseudo-modal__logo" src="{% static 'myhpom/img/logo/mmh-logo-hor-color-rev@3x.png' %}" alt="">
            </div>

            <div class="pb-0 modal-header modal-header--main pseudo-modal__header">
                <h1 class="mx-auto modal-title pseudo-modal__title pseudo-modal__title--centered">
                    Welcome Back.
                </h1>
            </div>

            <div class="pt-1 pb-1 modal-header modal-header--subtitle pseudo-modal__header">
                <h5 class="mx-auto pseudo-modal__title--centered pseudo-modal__title--serif">
                    Don't have an account?
                <a class="pseudo-modal__login-link" href="{% url 'myhpom:signup' %}"> Sign up here.</a></h5>
            </div>

            <div class="modal-body pseudo-modal__body">
                <div class="row">
                <div class="col-md-7 mx-auto">
                    <form method="post">
                        {% csrf_token %}

                        <div class="row">
                            <div class="col login__generic-error">
                                {{ form.non_field_errors }}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col form-group">
                                <label class="pseudo-modal__label
                                    {% if form.errors.username %} form-group__label--invalid{% endif %}"
                                    for="id_first_name">Your Email</label>
                                <input type="text" class="form-control pseudo-modal__input
                                    {% if form.errors.username %} is-invalid{% endif %}"
                                    name="username" id="id_username"
                                    value="{% if form.data.username %}{{form.data.username}}{% endif %}" />
                                <div class="invalid-feedback">
                                    {% if form.errors.username %}{{ form.errors.username }}{% endif %}
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col form-group">
                                <label class="pseudo-modal__label
                                    {% if form.errors.password %} form-group__label--invalid{% endif %}"
                                    for="id_first_name">Your Password</label>
                                <input type="password" class="form-control pseudo-modal__input
                                    {% if form.errors.password %} is-invalid{% endif %}"
                                    name="password" id="id_password"
                                    value="{% if form.data.password %}{{form.data.password}}{% endif %}" />
                                <div class="invalid-feedback">
                                    {% if form.errors.password %}{{ form.errors.password }}{% endif %}
                                </div>
                                <div class="login__forgot-password">
                                    <a class="login__forgot-password__link" href="{% url 'password_reset' %}">Forgot your password?</a>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-auto mx-auto">
                                <button type="submit" class="btn login__submit">
                                    Sign in to your account
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal-backdrop show"></div>
{% endblock %}
